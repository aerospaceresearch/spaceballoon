(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 11.0' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       158,          7]
NotebookDataLength[     14210,        311]
NotebookOptionsPosition[     13351,        275]
NotebookOutlinePosition[     13686,        290]
CellTagsIndexPosition[     13643,        287]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{

Cell[CellGroupData[{
Cell[BoxData[
 RowBox[{"Dimensions", "[", 
  RowBox[{"rawdata", "=", 
   RowBox[{"Import", "[", 
    RowBox[{"\"\<DATALOG.TXT\>\"", ",", "\"\<CSV\>\""}], "]"}]}], 
  "]"}]], "Input",
 CellChangeTimes->{{3.697643829899068*^9, 3.697643851677106*^9}}],

Cell[BoxData[
 RowBox[{"{", "9193", "}"}]], "Output",
 CellChangeTimes->{3.697643853854696*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Take", "[", 
  RowBox[{"rawdata", ",", 
   RowBox[{"{", 
    RowBox[{"2000", ",", "2020"}], "}"}]}], "]"}]], "Input",
 CellChangeTimes->{{3.697643862909346*^9, 3.697643939294767*^9}}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{"\<\"$trk\"\>", ",", "\<\"14:1:32.00\"\>", ",", "4905.1855`", ",",
      "926.9503`", ",", "49.086426`", ",", "9.449172`", ",", "15847.3`", ",", 
     "31.84`", ",", "85.37`", ",", "10", ",", "1", ",", "2", ",", "1778", ",", 
     RowBox[{"-", "39.9`"}], ",", "1.`"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"$trk\"\>", ",", "\<\"14:1:36.00\"\>", ",", "4905.1899`", ",",
      "927.0045`", ",", "49.086498`", ",", "9.450075`", ",", "15872.`", ",", 
     "31.84`", ",", "85.37`", ",", "10", ",", "1", ",", "2", ",", "1779", ",", 
     RowBox[{"-", "39.9`"}], ",", "1.`"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"$trk\"\>", ",", "\<\"14:1:38.00\"\>", ",", "4905.1929`", ",",
      "927.0271`", ",", "49.086548`", ",", "9.450452`", ",", "15883.4`", ",", 
     "31.84`", ",", "85.37`", ",", "10", ",", "1", ",", "2", ",", "1780", ",", 
     RowBox[{"-", "39.9`"}], ",", "1.`"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"$trk\"\>", ",", "\<\"14:1:40.00\"\>", ",", "4905.1938`", ",",
      "927.0575`", ",", "49.086563`", ",", "9.450958`", ",", "15900.9`", ",", 
     "31.84`", ",", "85.37`", ",", "10", ",", "1", ",", "2", ",", "1781", 
     ",", "\<\"\"\>", ",", "\<\"\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"$trk\"\>", ",", "\<\"14:1:40.00\"\>", ",", "4905.1938`", ",",
      "927.0575`", ",", "49.086563`", ",", "9.450958`", ",", "15900.9`", ",", 
     "43.93`", ",", "88.31`", ",", "10", ",", "1", ",", "2", ",", "1782", ",", 
     RowBox[{"-", "39.9`"}], ",", "1.`"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"$trk\"\>", ",", "\<\"14:1:44.00\"\>", ",", "4905.1938`", ",",
      "927.1075`", ",", "49.086563`", ",", "9.451792`", ",", "15930.1`", ",", 
     "43.93`", ",", "88.31`", ",", "10", ",", "1", ",", "2", ",", "1783", ",", 
     RowBox[{"-", "39.9`"}], ",", "1.`"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"$trk\"\>", ",", "\<\"14:1:46.00\"\>", ",", "4905.1982`", ",",
      "927.1363`", ",", "49.086636`", ",", "9.452271`", ",", "15941.7`", ",", 
     "43.93`", ",", "88.31`", ",", "10", ",", "1", ",", "2", ",", "1784", ",", 
     RowBox[{"-", "39.9`"}], ",", "1.`"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"$trk\"\>", ",", "\<\"14:1:48.00\"\>", ",", "4905.1997`", ",",
      "927.1621`", ",", "49.086662`", ",", "9.452702`", ",", "15952.6`", ",", 
     "43.93`", ",", "88.31`", ",", "10", ",", "1", ",", "2", ",", "1785", ",", 
     RowBox[{"-", "39.9`"}], ",", "1.`"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"$trk\"\>", ",", "\<\"14:1:50.00\"\>", ",", "4905.2012`", ",",
      "927.1974`", ",", "49.086685`", ",", "9.45329`", ",", "15964.6`", ",", 
     "43.93`", ",", "88.31`", ",", "10", ",", "1", ",", "2", ",", "1786", ",", 
     RowBox[{"-", "39.9`"}], ",", "1.`"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"$trk\"\>", ",", "\<\"14:1:52.00\"\>", ",", "4905.1997`", ",",
      "927.2224`", ",", "49.086662`", ",", "9.453707`", ",", "15974.2`", ",", 
     "43.93`", ",", "88.31`", ",", "9", ",", "1", ",", "2", ",", "1787", ",", 
     
     RowBox[{"-", "39.9`"}], ",", "1.`"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"$trk\"\>", ",", "\<\"14:1:54.00\"\>", ",", "4905.2002`", ",",
      "927.2592`", ",", "49.08667`", ",", "9.45432`", ",", "15983.5`", ",", 
     "43.93`", ",", "88.31`", ",", "10", ",", "1", ",", "2", ",", "1788", ",", 
     RowBox[{"-", "39.9`"}], ",", "1.`"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"$trk\"\>", ",", "\<\"14:1:56.00\"\>", ",", "4905.1992`", ",",
      "927.2853`", ",", "49.086655`", ",", "9.454755`", ",", "15993.`", ",", 
     "43.93`", ",", "88.31`", ",", "10", ",", "1", ",", "2", ",", "1789", 
     ",", "\<\"\"\>", ",", "\<\"\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"$trk\"\>", ",", "\<\"14:1:58.00\"\>", ",", "4905.1968`", ",",
      "927.3204`", ",", "49.086613`", ",", "9.455339`", ",", "15999.8`", ",", 
     "43.93`", ",", "88.31`", ",", "10", ",", "1", ",", "2", ",", "1790", ",", 
     RowBox[{"-", "39.9`"}], ",", "1.`"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"$trk\"\>", ",", "\<\"14:2:0.00\"\>", ",", "4905.1978`", ",", 
     "927.349`", ",", "49.086628`", ",", "9.455816`", ",", "16015.6`", ",", 
     "43.93`", ",", "88.31`", ",", "10", ",", "1", ",", "2", ",", "1791", ",", 
     RowBox[{"-", "39.9`"}], ",", "1.`"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"$trk\"\>", ",", "\<\"14:2:0.00\"\>", ",", "4905.1978`", ",", 
     "927.349`", ",", "49.086628`", ",", "9.455816`", ",", "16015.6`", ",", 
     "22.15`", ",", "81.66`", ",", "10", ",", "1", ",", "2", ",", "1792", ",", 
     RowBox[{"-", "39.9`"}], ",", "1.`"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"$trk\"\>", ",", "\<\"14:2:2.00\"\>", ",", "4905.2002`", ",", 
     "927.379`", ",", "49.08667`", ",", "9.456317`", ",", "16015.6`", ",", 
     "48.89`", ",", "84.02`", ",", "10", ",", "1", ",", "2", ",", "1793", ",", 
     RowBox[{"-", "39.9`"}], ",", "1.`"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"$trk\"\>", ",", "\<\"14:2:6.00\"\>", ",", "4905.2002`", ",", 
     "927.4398`", ",", "49.08667`", ",", "9.457331`", ",", "16054.8`", ",", 
     "48.89`", ",", "84.02`", ",", "10", ",", "1", ",", "2", ",", "1794", ",", 
     RowBox[{"-", "39.9`"}], ",", "1.`"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"$trk\"\>", ",", "\<\"14:2:6.00\"\>", ",", "4905.2002`", ",", 
     "927.4398`", ",", "49.08667`", ",", "9.457331`", ",", "16054.8`", ",", 
     "44.71`", ",", "88.49`", ",", "10", ",", "1", ",", "2", ",", "1795", ",", 
     RowBox[{"-", "39.9`"}], ",", "1.`"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"$trk\"\>", ",", "\<\"14:2:8.00\"\>", ",", "4905.2007`", ",", 
     "927.4738`", ",", "49.086678`", ",", "9.457897`", ",", "16054.8`", ",", 
     "31.24`", ",", "88.78`", ",", "10", ",", "1", ",", "2", ",", "1796", ",", 
     RowBox[{"-", "39.9`"}], ",", "1.`"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"$trk\"\>", ",", "\<\"14:2:10.00\"\>", ",", "4905.1992`", ",",
      "927.4996`", ",", "49.086655`", ",", "9.458326`", ",", "16054.8`", ",", 
     "42.16`", ",", "88.22`", ",", "10", ",", "1", ",", "2", ",", "1797", 
     ",", "\<\"\"\>", ",", "\<\"\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"$trk\"\>", ",", "\<\"14:2:14.00\"\>", ",", "4905.2002`", ",",
      "927.5644`", ",", "49.08667`", ",", "9.459407`", ",", "16092.6`", ",", 
     "42.16`", ",", "88.22`", ",", "10", ",", "1", ",", "2", ",", "1798", ",", 
     RowBox[{"-", "39.9`"}], ",", "1.`"}], "}"}]}], "}"}]], "Output",
 CellChangeTimes->{{3.697643871555927*^9, 3.697643939589314*^9}}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Dimensions", "[", 
  RowBox[{"LatLonAltTime", "=", 
   RowBox[{
    RowBox[{
     RowBox[{"#", "\[LeftDoubleBracket]", 
      RowBox[{"{", 
       RowBox[{"5", ",", "6", ",", "7", ",", "2"}], "}"}], 
      "\[RightDoubleBracket]"}], "&"}], "/@", "rawdata"}]}], "]"}]], "Input",
 CellChangeTimes->{{3.697643955139052*^9, 3.697644026316979*^9}, {
  3.697644081969458*^9, 3.697644083687796*^9}}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"9193", ",", "4"}], "}"}]], "Output",
 CellChangeTimes->{3.697644027191783*^9, 3.697644085233431*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Dimensions", "[", 
  RowBox[{"pathstring", "=", 
   RowBox[{
    RowBox[{"Function", "[", 
     RowBox[{"line", ",", 
      RowBox[{
       RowBox[{
        RowBox[{"\"\<<trkpt lat=\\\"\>\"", "<>", 
         RowBox[{"#", "\[LeftDoubleBracket]", "1", "\[RightDoubleBracket]"}], 
         "<>", "\"\<\\\" lon=\\\"\>\"", "<>", 
         RowBox[{"#", "\[LeftDoubleBracket]", "2", "\[RightDoubleBracket]"}], 
         "<>", "\"\<\\\"> <ele>\>\"", "<>", 
         RowBox[{"#", "\[LeftDoubleBracket]", "3", "\[RightDoubleBracket]"}], 
         "<>", "\"\<</ele><time>2017-03-04T\>\"", "<>", 
         RowBox[{"#", "\[LeftDoubleBracket]", "4", "\[RightDoubleBracket]"}], 
         "<>", "\"\<Z</time><src>network</src></trkpt>\>\""}], "&"}], "[", 
       RowBox[{"ToString", "/@", "line"}], "]"}]}], "]"}], "/@", 
    "LatLonAltTime"}]}], "]"}]], "Input",
 CellChangeTimes->{{3.697644150896111*^9, 3.697644198602499*^9}, {
  3.697644231970071*^9, 3.697644371358129*^9}, {3.697644482595066*^9, 
  3.69764451779908*^9}, {3.697645277887738*^9, 3.697645315606809*^9}}],

Cell[BoxData[
 RowBox[{"{", "9193", "}"}]], "Output",
 CellChangeTimes->{{3.697644348767888*^9, 3.697644372637339*^9}, 
   3.697644534039597*^9, 3.697645319025609*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Take", "[", 
  RowBox[{"pathstring", ",", 
   RowBox[{"-", "20"}]}], "]"}]], "Input",
 CellChangeTimes->{{3.697644380036521*^9, 3.697644391511575*^9}}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"\<\"<trkpt lat=\\\"48.8018\\\" lon=\\\"9.20761\\\"> \
<ele>225.1</ele><time>2017-03-04T18:0:49.00Z</time><src>network</src></trkpt>\
\"\>", ",", "\<\"<trkpt lat=\\\"48.8018\\\" lon=\\\"9.20761\\\"> \
<ele>225.1</ele><time>2017-03-04T18:0:49.00Z</time><src>network</src></trkpt>\
\"\>", ",", "\<\"<trkpt lat=\\\"48.8018\\\" lon=\\\"9.20761\\\"> \
<ele>225.1</ele><time>2017-03-04T18:0:50.00Z</time><src>network</src></trkpt>\
\"\>", ",", "\<\"<trkpt lat=\\\"48.8018\\\" lon=\\\"9.20761\\\"> \
<ele>225.1</ele><time>2017-03-04T18:0:55.00Z</time><src>network</src></trkpt>\
\"\>", ",", "\<\"<trkpt lat=\\\"48.8018\\\" lon=\\\"9.20761\\\"> \
<ele>225.1</ele><time>2017-03-04T18:0:55.00Z</time><src>network</src></trkpt>\
\"\>", ",", "\<\"<trkpt lat=\\\"48.8018\\\" lon=\\\"9.20761\\\"> \
<ele>225.1</ele><time>2017-03-04T18:0:59.00Z</time><src>network</src></trkpt>\
\"\>", ",", "\<\"<trkpt lat=\\\"48.8018\\\" lon=\\\"9.20761\\\"> \
<ele>225.1</ele><time>2017-03-04T18:0:59.00Z</time><src>network</src></trkpt>\
\"\>", ",", "\<\"<trkpt lat=\\\"48.8018\\\" lon=\\\"9.20761\\\"> \
<ele>225.1</ele><time>2017-03-04T18:1:0.00Z</time><src>network</src></trkpt>\"\
\>", ",", "\<\"<trkpt lat=\\\"48.8018\\\" lon=\\\"9.20761\\\"> \
<ele>225.1</ele><time>2017-03-04T18:1:5.00Z</time><src>network</src></trkpt>\"\
\>", ",", "\<\"<trkpt lat=\\\"48.8018\\\" lon=\\\"9.20761\\\"> \
<ele>225.1</ele><time>2017-03-04T18:1:5.00Z</time><src>network</src></trkpt>\"\
\>", ",", "\<\"<trkpt lat=\\\"48.8018\\\" lon=\\\"9.20761\\\"> \
<ele>225.1</ele><time>2017-03-04T18:1:9.00Z</time><src>network</src></trkpt>\"\
\>", ",", "\<\"<trkpt lat=\\\"48.8018\\\" lon=\\\"9.20761\\\"> \
<ele>225.1</ele><time>2017-03-04T18:1:9.00Z</time><src>network</src></trkpt>\"\
\>", ",", "\<\"<trkpt lat=\\\"48.8018\\\" lon=\\\"9.20761\\\"> \
<ele>225.1</ele><time>2017-03-04T18:1:13.00Z</time><src>network</src></trkpt>\
\"\>", ",", "\<\"<trkpt lat=\\\"48.8018\\\" lon=\\\"9.20761\\\"> \
<ele>225.1</ele><time>2017-03-04T18:1:13.00Z</time><src>network</src></trkpt>\
\"\>", ",", "\<\"<trkpt lat=\\\"48.8018\\\" lon=\\\"9.20761\\\"> \
<ele>225.1</ele><time>2017-03-04T18:1:17.00Z</time><src>network</src></trkpt>\
\"\>", ",", "\<\"<trkpt lat=\\\"48.8018\\\" lon=\\\"9.20761\\\"> \
<ele>225.1</ele><time>2017-03-04T18:1:17.00Z</time><src>network</src></trkpt>\
\"\>", ",", "\<\"<trkpt lat=\\\"48.8018\\\" lon=\\\"9.20761\\\"> \
<ele>225.1</ele><time>2017-03-04T18:1:21.00Z</time><src>network</src></trkpt>\
\"\>", ",", "\<\"<trkpt lat=\\\"48.7996\\\" lon=\\\"9.2091\\\"> \
<ele>214.8</ele><time>2017-03-04T18:1:33.00Z</time><src>network</src></trkpt>\
\"\>", ",", "\<\"<trkpt lat=\\\"48.7993\\\" lon=\\\"9.20932\\\"> \
<ele>229.4</ele><time>2017-03-04T18:1:40.00Z</time><src>network</src></trkpt>\
\"\>", ",", "\<\"<trkpt lat=\\\"48.7993\\\" lon=\\\"9.20932\\\"> \
<ele>229.4</ele><time>2017-03-04T18:1:42.00Z</time><src>network</src></trkpt>\
\"\>"}], "}"}]], "Output",
 CellChangeTimes->{3.697644392011923*^9, 3.69764453907416*^9, 
  3.697645326561346*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Export", "[", 
  RowBox[{"\"\<pathfile\>\"", ",", "pathstring", ",", "\"\<Table\>\""}], 
  "]"}]], "Input",
 CellChangeTimes->{{3.697644410181873*^9, 3.697644445722716*^9}}],

Cell[BoxData["\<\"pathfile\"\>"], "Output",
 CellChangeTimes->{{3.697644432508726*^9, 3.697644448107127*^9}, 
   3.697644555251734*^9, 3.69764533854098*^9}]
}, Open  ]]
},
WindowSize->{1201, 904},
WindowMargins->{{386, 333}, {51, Automatic}},
FrontEndVersion->"11.0 for Linux x86 (32-bit) (September 21, 2016)",
StyleDefinitions->"Default.nb"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[CellGroupData[{
Cell[580, 22, 248, 6, 34, "Input"],
Cell[831, 30, 95, 2, 32, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[963, 37, 207, 5, 34, "Input"],
Cell[1173, 44, 6616, 109, 494, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[7826, 158, 416, 10, 34, "Input"],
Cell[8245, 170, 140, 3, 34, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[8422, 178, 1080, 21, 122, "Input"],
Cell[9505, 201, 167, 3, 32, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[9709, 209, 175, 4, 34, "Input"],
Cell[9887, 215, 3055, 44, 470, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[12979, 264, 197, 4, 34, "Input"],
Cell[13179, 270, 156, 2, 89, "Output"]
}, Open  ]]
}
]
*)

